{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/app/admin/components/Sidebar.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport {\r\n  FileText,\r\n  Image,\r\n  Users,\r\n  ClipboardCheck,\r\n  BookOpen,\r\n  UserCog,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  CreditCard,\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nconst navItems = [\r\n  { name: 'Follow Ups', icon: ClipboardCheck, path: '/admin' },\r\n  { name: 'Enquiries', icon: FileText, path: '/admin/enquiries' },\r\n  { name: 'Gallery', icon: Image, path: '/admin/gallery/album' },\r\n  { name: 'Placements', icon: Users, path: '/admin/placement' },\r\n  { name: 'Staffs', icon: UserCog, path: '/admin/staffs' },\r\n  { name: 'Courses', icon: BookOpen, path: '/admin/courses' },\r\n  { name: 'Payments', icon: CreditCard, path: '/admin/payments' },\r\n];\r\n\r\nexport default function Sidebar({ admin }) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const pathname = usePathname();\r\n\r\n   const [adminName, setAdminName] = useState('');\r\n   const [imgPath, setImgPath] = useState('');\r\n\r\n  useEffect(() => {\r\n    const storedAdmin = sessionStorage.getItem('admin');\r\n    const img_path = sessionStorage.getItem(\"img_path\");\r\n    if (storedAdmin) {\r\n      try {\r\n          setImgPath(img_path);\r\n        setAdminName(storedAdmin); // assuming { \"name\": \"Kirti Tiwari\" }\r\n      } catch (error) {\r\n        console.error('Invalid admin JSON in sessionStorage');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setCollapsed(window.innerWidth < 768);\r\n    };\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <aside\r\n      className={`bg-gray-900 text-white shadow-md transition-all duration-300 ${\r\n        collapsed ? 'w-20' : 'w-64'\r\n      } min-h-screen p-4 relative`}\r\n    >\r\n      {/* Collapse Toggle Button */}\r\n      <button\r\n        className=\"absolute top-4 -right-4 bg-gray-700 text-white p-1 rounded-full\"\r\n        onClick={() => setCollapsed(!collapsed)}\r\n      >\r\n        {collapsed ? <ChevronRight size={20} /> : <ChevronLeft size={20} />}\r\n      </button>\r\n\r\n      {/* Admin Info */}\r\n      <div className=\"flex flex-col items-center mb-8 mt-4\">\r\n        <img\r\n          src={imgPath || '/default-profile.png'}\r\n          alt=\"Admin\"\r\n          className=\"w-12 h-12 rounded-full border mb-2\"\r\n        />\r\n\r\n      \r\n        {!collapsed && (\r\n          \r\n          <p className=\"text-sm font-medium text-center\">{adminName  || 'Admin Name111'}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"space-y-2 mt-6\">\r\n        {navItems.map((item) => {\r\n          const isActive =\r\n            item.path === '/admin'\r\n              ? pathname === '/admin'\r\n              : pathname.startsWith(item.path);\r\n\r\n          return (\r\n            <Link\r\n              key={item.name}\r\n              href={item.path}\r\n              className={`flex items-center gap-3 px-4 py-2 rounded transition ${\r\n                isActive ? 'bg-gray-700 font-semibold' : 'hover:bg-gray-700'\r\n              }`}\r\n            >\r\n              <item.icon size={20} />\r\n              {!collapsed && <span>{item.name}</span>}\r\n            </Link>\r\n          );\r\n        })}\r\n      </nav>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAfA;;;;;;AAiBA,MAAM,WAAW;IACf;QAAE,MAAM;QAAc,MAAM,0NAAA,CAAA,iBAAc;QAAE,MAAM;IAAS;IAC3D;QAAE,MAAM;QAAa,MAAM,8MAAA,CAAA,WAAQ;QAAE,MAAM;IAAmB;IAC9D;QAAE,MAAM;QAAW,MAAM,oMAAA,CAAA,QAAK;QAAE,MAAM;IAAuB;IAC7D;QAAE,MAAM;QAAc,MAAM,oMAAA,CAAA,QAAK;QAAE,MAAM;IAAmB;IAC5D;QAAE,MAAM;QAAU,MAAM,4MAAA,CAAA,UAAO;QAAE,MAAM;IAAgB;IACvD;QAAE,MAAM;QAAW,MAAM,8MAAA,CAAA,WAAQ;QAAE,MAAM;IAAiB;IAC1D;QAAE,MAAM;QAAY,MAAM,kNAAA,CAAA,aAAU;QAAE,MAAM;IAAkB;CAC/D;AAEc,SAAS,QAAQ,EAAE,KAAK,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE1B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAExC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,eAAe,OAAO,CAAC;QAC3C,MAAM,WAAW,eAAe,OAAO,CAAC;QACxC,IAAI,aAAa;YACf,IAAI;gBACA,WAAW;gBACb,aAAa,cAAc,sCAAsC;YACnE,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC;YAChB;QACF;IACF,GAAG,EAAE;IAKL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,aAAa,OAAO,UAAU,GAAG;QACnC;QACA;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,qBACE,8OAAC;QACC,WAAW,CAAC,6DAA6D,EACvE,YAAY,SAAS,OACtB,0BAA0B,CAAC;;0BAG5B,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa,CAAC;0BAE5B,0BAAY,8OAAC,sNAAA,CAAA,eAAY;oBAAC,MAAM;;;;;yCAAS,8OAAC,oNAAA,CAAA,cAAW;oBAAC,MAAM;;;;;;;;;;;0BAI/D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK,WAAW;wBAChB,KAAI;wBACJ,WAAU;;;;;;oBAIX,CAAC,2BAEA,8OAAC;wBAAE,WAAU;kCAAmC,aAAc;;;;;;;;;;;;0BAKlE,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,WACJ,KAAK,IAAI,KAAK,WACV,aAAa,WACb,SAAS,UAAU,CAAC,KAAK,IAAI;oBAEnC,qBACE,8OAAC,4JAAA,CAAA,UAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,qDAAqD,EAC/D,WAAW,8BAA8B,qBACzC;;0CAEF,8OAAC,KAAK,IAAI;gCAAC,MAAM;;;;;;4BAChB,CAAC,2BAAa,8OAAC;0CAAM,KAAK,IAAI;;;;;;;uBAP1B,KAAK,IAAI;;;;;gBAUpB;;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/app/admin/components/Headerbar.jsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Bell, UserCircle, LogOut } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst Headerbar = () => {\r\n  const [adminName, setAdminName] = useState('');\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const storedAdmin = sessionStorage.getItem('admin');\r\n    if (storedAdmin) {\r\n      setAdminName(storedAdmin);\r\n    }\r\n  }, []);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showDropdown && !event.target.closest('.dropdown-container')) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [showDropdown]);\r\n\r\n  const handleLogout = () => {\r\n    // Clear session storage\r\n    sessionStorage.removeItem('token');\r\n    sessionStorage.removeItem('admin');\r\n    sessionStorage.removeItem('img_path');\r\n    \r\n    // Redirect to login page\r\n    router.push('/login');\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-gray-300 text-gray-800 flex items-center justify-between px-6 py-4 shadow-sm\">\r\n      <div className=\"text-xl font-bold flex items-center gap-2\">\r\n        <img src=\"/vita_logo.png\" alt=\"Logo\" className=\"w-24 h-17 object-contain\" />\r\n        {/* <span>VITA College</span> Optional: Add brand name */}\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <button className=\"hover:text-blue-600 transition\">\r\n          <Bell size={20} />\r\n        </button>\r\n        \r\n        <div className=\"relative dropdown-container\">\r\n          <button \r\n            className=\"hover:text-blue-600 transition flex items-center gap-2\"\r\n            onClick={() => setShowDropdown(!showDropdown)}\r\n          >\r\n            <UserCircle size={24} />\r\n            {adminName && <span className=\"text-sm\">{adminName}</span>}\r\n          </button>\r\n          \r\n          {showDropdown && (\r\n            <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-50\">\r\n              <div className=\"py-1\">\r\n                <div className=\"px-4 py-2 text-sm text-gray-700 border-b\">\r\n                  Welcome, {adminName}\r\n                </div>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2\"\r\n                >\r\n                  <LogOut size={16} />\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Headerbar;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMA,MAAM,YAAY;IAChB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,eAAe,OAAO,CAAC;QAC3C,IAAI,aAAa;YACf,aAAa;QACf;IACF,GAAG,EAAE;IAEL,uCAAuC;IACvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,gBAAgB,CAAC,MAAM,MAAM,CAAC,OAAO,CAAC,wBAAwB;gBAChE,gBAAgB;YAClB;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe;QACnB,wBAAwB;QACxB,eAAe,UAAU,CAAC;QAC1B,eAAe,UAAU,CAAC;QAC1B,eAAe,UAAU,CAAC;QAE1B,yBAAyB;QACzB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,KAAI;oBAAiB,KAAI;oBAAO,WAAU;;;;;;;;;;;0BAIjD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC,kMAAA,CAAA,OAAI;4BAAC,MAAM;;;;;;;;;;;kCAGd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,SAAS,IAAM,gBAAgB,CAAC;;kDAEhC,8OAAC,kNAAA,CAAA,aAAU;wCAAC,MAAM;;;;;;oCACjB,2BAAa,8OAAC;wCAAK,WAAU;kDAAW;;;;;;;;;;;;4BAG1C,8BACC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;gDAA2C;gDAC9C;;;;;;;sDAEZ,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,0MAAA,CAAA,SAAM;oDAAC,MAAM;;;;;;gDAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtC;uCAEe","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/app/admin/components/ProtectedRoute.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function ProtectedRoute({ children }) {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const token = sessionStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        // No token found, redirect to login\r\n        router.replace('/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Validate token with backend by making a test API call\r\n        const response = await fetch('http://localhost:8080/api/staff', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          // Token is valid\r\n          setIsAuthenticated(true);\r\n        } else {\r\n          // Token is invalid, clear storage and redirect\r\n          sessionStorage.removeItem('token');\r\n          sessionStorage.removeItem('admin');\r\n          sessionStorage.removeItem('img_path');\r\n          router.replace('/login');\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        // Network error or server issue, allow access but log the error\r\n        console.warn('Token validation failed due to network error:', error);\r\n        setIsAuthenticated(true);\r\n      }\r\n      \r\n      setIsLoading(false);\r\n    };\r\n\r\n    // Check authentication immediately\r\n    checkAuth();\r\n\r\n    // Set up interval to periodically check token validity\r\n    const authCheckInterval = setInterval(() => {\r\n      const token = sessionStorage.getItem('token');\r\n      if (!token) {\r\n        router.replace('/login');\r\n      }\r\n    }, 300000); // Check every 5 minutes\r\n\r\n    return () => clearInterval(authCheckInterval);\r\n  }, [router]);\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show login redirect message if not authenticated\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold mb-2\">Redirecting to login...</h2>\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Return children if authenticated\r\n  return children;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,eAAe,EAAE,QAAQ,EAAE;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,MAAM,QAAQ,eAAe,OAAO,CAAC;YAErC,IAAI,CAAC,OAAO;gBACV,oCAAoC;gBACpC,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,IAAI;gBACF,wDAAwD;gBACxD,MAAM,WAAW,MAAM,MAAM,mCAAmC;oBAC9D,SAAS;wBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;wBAClC,gBAAgB;oBAClB;gBACF;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,iBAAiB;oBACjB,mBAAmB;gBACrB,OAAO;oBACL,+CAA+C;oBAC/C,eAAe,UAAU,CAAC;oBAC1B,eAAe,UAAU,CAAC;oBAC1B,eAAe,UAAU,CAAC;oBAC1B,OAAO,OAAO,CAAC;oBACf;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,gEAAgE;gBAChE,QAAQ,IAAI,CAAC,iDAAiD;gBAC9D,mBAAmB;YACrB;YAEA,aAAa;QACf;QAEA,mCAAmC;QACnC;QAEA,uDAAuD;QACvD,MAAM,oBAAoB,YAAY;YACpC,MAAM,QAAQ,eAAe,OAAO,CAAC;YACrC,IAAI,CAAC,OAAO;gBACV,OAAO,OAAO,CAAC;YACjB;QACF,GAAG,SAAS,wBAAwB;QAEpC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAO;IAEX,qDAAqD;IACrD,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,mDAAmD;IACnD,IAAI,CAAC,iBAAiB;QACpB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,mCAAmC;IACnC,OAAO;AACT","debugId":null}}]
}