{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/lib/config.js"],"sourcesContent":["// API Configuration\r\nexport const API_CONFIG = {\r\n  // Replace with your Spring Boot backend URL\r\n  BASE_URL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080',\r\n  \r\n  // API Endpoints\r\n  ENDPOINTS: {\r\n    STUDENTS: '/api/students',\r\n    PAYMENT_HISTORY: '/api/receipts',\r\n    PAYMENT_TYPES: '/api/payment-types',\r\n    PROCESS_PAYMENT: '/api/payment-with-type',\r\n    PLACEMENTS: '/api/placements',\r\n    BATCHES: '/api/batches',\r\n    COURSES: '/api/courses',\r\n  }\r\n};\r\n\r\n// Helper function to get full API URL\r\nexport const getApiUrl = (endpoint) => {\r\n  return `${API_CONFIG.BASE_URL}${endpoint}`;\r\n};\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;AACb,MAAM,aAAa;IACxB,4CAA4C;IAC5C,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAE7C,gBAAgB;IAChB,WAAW;QACT,UAAU;QACV,iBAAiB;QACjB,eAAe;QACf,iBAAiB;QACjB,YAAY;QACZ,SAAS;QACT,SAAS;IACX;AACF;AAGO,MAAM,YAAY,CAAC;IACxB,OAAO,GAAG,WAAW,QAAQ,GAAG,UAAU;AAC5C","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\"\r\nimport { API_CONFIG, getApiUrl } from \"./config\";\r\n\r\nexport function cn(...inputs) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\n/**\r\n * Fetches all placement data from the backend\r\n * @returns {Promise<Array>} - Array of placement data for all batches\r\n */\r\nexport async function fetchPlacementData() {\r\n  try {\r\n    const response = await fetch('/api/placements');\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to fetch placement data: ${response.status}`);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching placement data:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Updates a student's placement status\r\n * @param {number} studentId - The student's ID\r\n * @param {boolean} isPlaced - Whether the student is placed or not\r\n * @param {string} token - Authorization token\r\n * @returns {Promise<Object>} - The updated student data\r\n */\r\nexport async function updateStudentPlacementStatus(studentId, isPlaced, token) {\r\n  const response = await fetch(\r\n    `/api/students/${studentId}/isplaced?isPlaced=${encodeURIComponent(isPlaced)}`,\r\n    {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!response.ok) {\r\n    const errorText = await response.text();\r\n    throw new Error(`Failed to update placement status: ${errorText}`);\r\n  }\r\n\r\n  return response.json();\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAMO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM;QAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,gCAAgC,EAAE,SAAS,MAAM,EAAE;QACtE;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,MAAM;IACR;AACF;AASO,eAAe,6BAA6B,SAAS,EAAE,QAAQ,EAAE,KAAK;IAC3E,MAAM,WAAW,MAAM,MACrB,CAAC,cAAc,EAAE,UAAU,mBAAmB,EAAE,mBAAmB,WAAW,EAC9E;QACE,QAAQ;QACR,SAAS;YACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;QACpC;IACF;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,CAAC,mCAAmC,EAAE,WAAW;IACnE;IAEA,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/components/ui/input.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Input({\r\n  className,\r\n  type,\r\n  ...props\r\n}) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,SAAS,MAAM,EACb,SAAS,EACT,IAAI,EACJ,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardHeader({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardTitle({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardDescription({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardAction({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardContent({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\r\n}\r\n\r\nfunction CardFooter({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OACJ;IACC,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sahil/OneDrive/Pictures/Documents/GitHub/ComputerSeekho_Frontend/Frontend/Next.Js_repo/computer_sekho/app/admin/payments/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { CreditCard, Eye, Plus } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { getApiUrl, API_CONFIG } from '@/lib/config';\r\n\r\nconst PaymentsPage = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const [courses, setCourses] = useState([]);\r\n  const [batches, setBatches] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  // Pagination state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [studentsPerPage] = useState(10);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const token = sessionStorage.getItem('token');\r\n        \r\n        // Fetch students, courses, and batches in parallel\r\n        const [studentsResponse, coursesResponse, batchesResponse] = await Promise.all([\r\n          fetch(getApiUrl(API_CONFIG.ENDPOINTS.STUDENTS), {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n          }),\r\n          fetch(`${getApiUrl(API_CONFIG.ENDPOINTS.STUDENTS).replace('/api/students', '/api/courses')}`, {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n          }),\r\n          fetch(`${getApiUrl(API_CONFIG.ENDPOINTS.STUDENTS).replace('/api/students', '/api/batches')}`, {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n          })\r\n        ]);\r\n\r\n        const [studentsData, coursesData, batchesData] = await Promise.all([\r\n          studentsResponse.json(),\r\n          coursesResponse.json(),\r\n          batchesResponse.json()\r\n        ]);\r\n        \r\n        console.log('API Responses:', { studentsData, coursesData, batchesData });\r\n        \r\n        // Process courses data\r\n        let coursesArr = [];\r\n        if (Array.isArray(coursesData)) {\r\n          coursesArr = coursesData;\r\n        } else if (coursesData.success && Array.isArray(coursesData.data)) {\r\n          coursesArr = coursesData.data;\r\n        }\r\n        setCourses(coursesArr);\r\n        console.log('Processed courses:', coursesArr);\r\n\r\n        // Process batches data\r\n        let batchesArr = [];\r\n        if (Array.isArray(batchesData)) {\r\n          batchesArr = batchesData;\r\n        } else if (batchesData.success && Array.isArray(batchesData.data)) {\r\n          batchesArr = batchesData.data;\r\n        }\r\n        setBatches(batchesArr);\r\n        console.log('Processed batches:', batchesArr);\r\n        \r\n        // Normalize students data and match with courses/batches\r\n        const toUiStudent = (s) => {\r\n          // Find course name by ID - handle both string and number IDs\r\n          const course = coursesArr.find(c => \r\n            c.id === s.courseId || \r\n            c.courseId === s.courseId || \r\n            c.id === parseInt(s.courseId) || \r\n            c.courseId === parseInt(s.courseId)\r\n          );\r\n          const courseName = course ? (course.name || course.courseName) : (s.course || s.courseName || `Course ${s.courseId}`);\r\n\r\n          // Find batch name by ID - handle both string and number IDs\r\n          const batch = batchesArr.find(b => \r\n            b.id === s.batchId || \r\n            b.batchId === s.batchId || \r\n            b.id === parseInt(s.batchId) || \r\n            b.batchId === parseInt(s.batchId)\r\n          );\r\n          const batchName = batch ? (batch.name || batch.batchName) : (s.batch || s.batchName || `Batch ${s.batchId}`);\r\n\r\n          // Debug logging for first few students\r\n          if (s.studentId <= 3) {\r\n            console.log(`Student ${s.studentId}:`, {\r\n              studentCourseId: s.courseId,\r\n              studentBatchId: s.batchId,\r\n              foundCourse: course,\r\n              foundBatch: batch,\r\n              courseName,\r\n              batchName\r\n            });\r\n          }\r\n\r\n          return {\r\n            id: s.id ?? s.studentId ?? s.student_id,\r\n            name: s.name ?? s.studentName,\r\n            email: s.email ?? s.studentEmail,\r\n            phone: s.phone ?? s.studentMobile,\r\n            course: courseName,\r\n            batch: batchName,\r\n            totalFees: s.totalFees ?? s.courseFee ?? 0,\r\n            pendingFees: s.pendingFees ?? (s.courseFee ?? 0),\r\n            courseId: s.courseId,\r\n            batchId: s.batchId,\r\n          };\r\n        };\r\n\r\n        let studentsArr = [];\r\n        console.log('Raw studentsData:', studentsData);\r\n        console.log('studentsData type:', typeof studentsData);\r\n        console.log('studentsData isArray:', Array.isArray(studentsData));\r\n        \r\n        if (Array.isArray(studentsData)) {\r\n          studentsArr = studentsData.map(toUiStudent);\r\n        } else if (studentsData.success && Array.isArray(studentsData.data)) {\r\n          studentsArr = studentsData.data.map(toUiStudent);\r\n        }\r\n        \r\n        console.log('Processed studentsArr:', studentsArr);\r\n\r\n        if (studentsArr.length > 0) {\r\n          console.log('Students array before sorting:', studentsArr);\r\n          \r\n          // Sort students by pending fees in descending order (highest pending fees first)\r\n          const sortedStudents = studentsArr.sort((a, b) => {\r\n            // First priority: students with pending fees > 0\r\n            if (a.pendingFees > 0 && b.pendingFees === 0) return -1;\r\n            if (a.pendingFees === 0 && b.pendingFees > 0) return 1;\r\n            \r\n            // Second priority: among students with pending fees, sort by amount (highest first)\r\n            if (a.pendingFees > 0 && b.pendingFees > 0) {\r\n              return b.pendingFees - a.pendingFees;\r\n            }\r\n            \r\n            // Third priority: among students with no pending fees, sort by name\r\n            // Handle null/undefined names safely\r\n            const nameA = a.name || '';\r\n            const nameB = b.name || '';\r\n            return nameA.localeCompare(nameB);\r\n          });\r\n          \r\n          console.log('Students array after sorting:', sortedStudents);\r\n          setStudents(sortedStudents);\r\n        } else {\r\n          setStudents([]);\r\n          toast.error('No students found');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        toast.error('Error loading data');\r\n        setStudents([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const filteredStudents = students.filter(student =>\r\n    student.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.course?.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Pagination logic\r\n  const indexOfLastStudent = currentPage * studentsPerPage;\r\n  const indexOfFirstStudent = indexOfLastStudent - studentsPerPage;\r\n  const currentStudents = filteredStudents.slice(indexOfFirstStudent, indexOfLastStudent);\r\n  const totalPages = Math.ceil(filteredStudents.length / studentsPerPage);\r\n\r\n  console.log('Current state:', { \r\n    students: students.length, \r\n    filteredStudents: filteredStudents.length, \r\n    currentStudents: currentStudents.length,\r\n    loading,\r\n    searchTerm \r\n  });\r\n\r\n  // Pagination handlers\r\n  const handlePageChange = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  // Reset pagination when search changes\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [searchTerm]);\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\">Student Payments</h2>\r\n      </div>\r\n\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Search by name, email, or course\"\r\n        className=\"max-w-md\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n      />\r\n\r\n      <Card>\r\n        <CardContent className=\"overflow-auto p-4\">\r\n          <table className=\"w-full border\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100 text-left\">\r\n                <th className=\"p-2 border\">Student Name</th>\r\n                <th className=\"p-2 border\">Email</th>\r\n                <th className=\"p-2 border\">Phone</th>\r\n                <th className=\"p-2 border\">Course</th>\r\n                <th className=\"p-2 border\">Batch</th>\r\n                <th className=\"p-2 border\">Total Fees</th>\r\n                <th className=\"p-2 border\">Pending Fees</th>\r\n                <th className=\"p-2 border\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center p-4\">\r\n                    Loading...\r\n                  </td>\r\n                </tr>\r\n              ) : currentStudents.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center p-4\">\r\n                    No students found.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                currentStudents.map((student) => (\r\n                  <tr key={student.id} className=\"border-t\">\r\n                    <td className=\"p-2 border font-medium\">{student.name}</td>\r\n                    <td className=\"p-2 border\">{student.email}</td>\r\n                    <td className=\"p-2 border\">{student.phone}</td>\r\n                    <td className=\"p-2 border\">{student.course}</td>\r\n                    <td className=\"p-2 border\">{student.batch}</td>\r\n                    <td className=\"p-2 border\">{formatCurrency(student.totalFees)}</td>\r\n                    <td className=\"p-2 border\">\r\n                      <span className={`font-semibold ${student.pendingFees > 0 ? 'text-red-600' : 'text-green-600'}`}>\r\n                        {formatCurrency(student.pendingFees)}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"p-2 border\">\r\n                      <div className=\"flex gap-2\">\r\n                        <Button asChild size=\"sm\" variant=\"outline\">\r\n                          <Link href={`/admin/payments/${student.id}`}>\r\n                            <Eye size={16} className=\"mr-1\" />\r\n                            View\r\n                          </Link>\r\n                        </Button>\r\n                        {student.pendingFees > 0 && (\r\n                          <Button asChild size=\"sm\">\r\n                            <Link href={`/admin/payments/${student.id}/new-payment`}>\r\n                              <Plus size={16} className=\"mr-1\" />\r\n                              Pay\r\n                            </Link>\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          \r\n          {/* Pagination Controls */}\r\n          {!loading && filteredStudents.length > 0 && (\r\n            <div className=\"flex items-center justify-between mt-4\">\r\n              <div className=\"text-sm text-gray-700\">\r\n                Showing {indexOfFirstStudent + 1} to {Math.min(indexOfLastStudent, filteredStudents.length)} of {filteredStudents.length} students\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handlePageChange(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  Previous\r\n                </Button>\r\n                \r\n                {Array.from({ length: totalPages }, (_, i) => i + 1).map((pageNumber) => (\r\n                  <Button\r\n                    key={pageNumber}\r\n                    variant={currentPage === pageNumber ? \"default\" : \"outline\"}\r\n                    size=\"sm\"\r\n                    onClick={() => handlePageChange(pageNumber)}\r\n                    className={currentPage === pageNumber ? \"bg-black text-white\" : \"\"}\r\n                  >\r\n                    {pageNumber}\r\n                  </Button>\r\n                ))}\r\n                \r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handlePageChange(currentPage + 1)}\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  Next\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentsPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}